<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>êµì‚¬ ë‹¤ë©´í‰ê°€ ì¦ë¹™ìë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 100%;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: #4285f4;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 10px;
            font-size: 14px;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .controls {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #ddd;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }
        
        .btn-primary {
            background: #4285f4;
            color: white;
        }
        
        .btn-primary:hover {
            background: #3367d6;
        }
        
        .btn-secondary {
            background: #fff;
            border: 1px solid #ddd;
            color: #333;
        }
        
        .btn-secondary:hover {
            background: #f8f9fa;
        }
        
        .table-wrapper {
            overflow-x: auto;
            padding: 20px;
            max-height: calc(100vh - 250px);
            overflow-y: auto;
            position: relative;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }
        
        th {
            background: #f8f9fa;
            padding: 12px 8px;
            text-align: center;
            font-weight: bold;
            border: 1px solid #ddd;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        th.name-col {
            min-width: 80px;
            position: sticky;
            left: 0;
            top: 0;
            z-index: 11;
            background: #e8eaed;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        td {
            padding: 10px 8px;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        td.name-col {
            position: sticky;
            left: 0;
            background: white;
            font-weight: bold;
            z-index: 9;
        }
        
        tbody tr:hover td {
            background: #f8f9fa;
        }
        
        tbody tr:hover td.name-col {
            background: #e8eaed;
        }
        
        .checkbox-cell {
            cursor: pointer;
            user-select: none;
        }
        
        .checkbox-cell input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .completion-rate {
            font-weight: bold;
        }
        
        .completion-rate.high {
            color: #0f9d58;
        }
        
        .completion-rate.medium {
            color: #f4b400;
        }
        
        .completion-rate.low {
            color: #db4437;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 5px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4285f4, #34a853);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 11px;
            font-weight: bold;
        }
        
        .detail-btn {
            background: #34a853;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 5px;
        }
        
        .detail-btn:hover {
            background: #2d8e47;
        }
        
        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideDown 0.3s;
        }
        
        @keyframes slideDown {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .modal-header {
            background: #4285f4;
            color: white;
            padding: 20px;
            border-radius: 8px 8px 0 0;
        }
        
        .modal-header h2 {
            font-size: 20px;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .evidence-section {
            margin-bottom: 25px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .evidence-section h3 {
            font-size: 16px;
            margin-bottom: 10px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .evidence-section input[type="checkbox"] {
            width: 20px;
            height: 20px;
        }
        
        .evidence-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-top: 5px;
            font-size: 14px;
        }
        
        .evidence-input:focus {
            outline: none;
            border-color: #4285f4;
        }
        
        .multiple-inputs {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 5px;
        }
        
        .input-with-label {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .input-label {
            font-size: 12px;
            color: #666;
            min-width: 30px;
        }
        
        .close {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 20px;
        }
        
        .close:hover {
            opacity: 0.8;
        }
        
        .modal-footer {
            padding: 15px 20px;
            background: #f8f9fa;
            border-top: 1px solid #ddd;
            text-align: right;
        }
        
        @media print {
            .controls, .detail-btn, .modal {
                display: none;
            }
            
            .header {
                background: white;
                color: black;
                border-bottom: 2px solid #333;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>êµì‚¬ ë‹¤ë©´í‰ê°€ ì¦ë¹™ìë£Œ ì œì¶œ í˜„í™©</h1>
            <div class="stats">
                <div class="stat-item">
                    <span>ì´ êµì‚¬:</span>
                    <strong id="totalTeachers">0</strong>ëª…
                </div>
                <div class="stat-item">
                    <span>ì „ì²´ ì œì¶œë¥ :</span>
                    <strong id="overallRate">0%</strong>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn btn-primary" onclick="exportToCSV()">ğŸ“¥ CSV ë‹¤ìš´ë¡œë“œ</button>
            <button class="btn btn-secondary" onclick="window.print()">ğŸ–¨ï¸ ì¸ì‡„</button>
            <button class="btn btn-secondary" onclick="clearAll()">ğŸ”„ ì „ì²´ ì´ˆê¸°í™”</button>
            <button class="btn btn-secondary" onclick="showIncomplete()">âš ï¸ ë¯¸ì œì¶œì ë³´ê¸°</button>
        </div>
        
        <div class="table-wrapper">
            <table id="checklistTable">
                <thead>
                    <tr>
                        <th class="name-col">êµì‚¬ëª…</th>
                        <th>ì§ë¬´ì—°ìˆ˜<br>ì´ìˆ˜ì‹œê°„</th>
                        <th>í•™ìƒì§€ë„<br>ìˆ˜ìƒì‹¤ì </th>
                        <th>êµë‚´ëŒ€íšŒ<br>ì¶”ì§„</th>
                        <th>êµë‚´ëŒ€íšŒ<br>í˜‘ì¡°</th>
                        <th>êµì™¸<br>ì „í•™ê³µ</th>
                        <th>êµë‚´<br>ì „í•™ê³µ</th>
                        <th>ìˆ˜ì—…ëŸ‰<br>ìœ ì—°í™”<br>1í•™ê¸°</th>
                        <th>ìˆ˜ì—…ëŸ‰<br>ìœ ì—°í™”<br>2í•™ê¸°</th>
                        <th>ë™ì•„ë¦¬</th>
                        <th>ì£¼ë§ì¸ì†”</th>
                        <th>ì¦ë¹™ìë£Œ</th>
                        <th>ì œì¶œì™„ë£Œ</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
    </div>

    <!-- ì¦ë¹™ìë£Œ ì…ë ¥ ëª¨ë‹¬ -->
    <div id="evidenceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" onclick="closeModal()">&times;</span>
                <h2 id="modalTitle">ì¦ë¹™ìë£Œ ì…ë ¥</h2>
            </div>
            <div class="modal-body" id="modalBody">
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="saveEvidence()">ğŸ’¾ ì €ì¥</button>
                <button class="btn btn-secondary" onclick="closeModal()">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <script>
        const teachers = [
            'ê°•ì§€ì—°', 'êµ¬ë„ì„±', 'ê¹€ë„ì˜', 'ê¹€ìƒí›ˆ', 'ê¹€ìš©ê²°', 'ê¹€ì€ë¹ˆ', 'ê¹€ì€ì§€', 'ê¹€í˜„ì •',
            'ê¹€í˜œë¯¼', 'ê¹€í˜œì¸', 'ê¹€í˜¸ì„±', 'ê¹€í¬ìˆ˜', 'ë…¸ìœ ì§„', 'ë¬¸ê¸°ì˜ˆ', 'ë°•ì§€ì€', 'ë°•ì§€í›ˆ',
            'ë°±ìŠ¹ì§„', 'ì„œì˜ˆë¦¼', 'ì†¡ì˜ˆì§„', 'ì†¡ì§€ì–¸', 'ì‹ ë™í˜¸', 'ì‹ í˜„ì¤€', 'ì‹¬ì†Œë¼', 'ì•ˆì§„í˜•',
            'ìœ„íƒœìš©', 'ìœ ê¸ˆì§„', 'ìœ¡ê°ìš°', 'ì´ë³‘ëª¨', 'ì´ìŠ¬ì´', 'ì´ì¢…ì°¬', 'ì´ì¤€í˜„', 'ì¥ì¸ì •',
            'ì „íš¨ë‚˜', 'ì „í¬ì£¼', 'ì •ìˆœì‹ ', 'ì •í˜œì •', 'ì¡°ë‚¨í˜', 'ìµœì†¡ì•„', 'í‘œë¯¼í¬', 'í•˜í—Œì„±',
            'í•œê±´í¬', 'í™©ì¸í™˜', 'ì‹ ìš°ì² ', 'ê¶Œì˜¤ë¯¸'
        ];

        const columns = [
            { id: 'ì§ë¬´ì—°ìˆ˜ì´ìˆ˜ì‹œê°„', name: 'ì§ë¬´ì—°ìˆ˜ ì´ìˆ˜ì‹œê°„', type: 'single' },
            { id: 'í•™ìƒì§€ë„ìˆ˜ìƒì‹¤ì ', name: 'í•™ìƒì§€ë„ ìˆ˜ìƒì‹¤ì ', type: 'single' },
            { id: 'êµë‚´ëŒ€íšŒì¶”ì§„', name: 'êµë‚´ëŒ€íšŒ ì¶”ì§„', type: 'single' },
            { id: 'êµë‚´ëŒ€íšŒí˜‘ì¡°', name: 'êµë‚´ëŒ€íšŒ í˜‘ì¡°', type: 'single' },
            { id: 'êµì™¸ì „í•™ê³µ', name: 'êµì™¸ ì „í•™ê³µ', type: 'single' },
            { id: 'êµë‚´ì „í•™ê³µ', name: 'êµë‚´ ì „í•™ê³µ', type: 'single' },
            { id: 'ìˆ˜ì—…ëŸ‰ìœ ì—°í™”1í•™ê¸°', name: 'ìˆ˜ì—…ëŸ‰ ìœ ì—°í™” 1í•™ê¸°', type: 'single' },
            { id: 'ìˆ˜ì—…ëŸ‰ìœ ì—°í™”2í•™ê¸°', name: 'ìˆ˜ì—…ëŸ‰ ìœ ì—°í™” 2í•™ê¸°', type: 'single' },
            { id: 'ë™ì•„ë¦¬', name: 'ë™ì•„ë¦¬', type: 'single' },
            { id: 'ì£¼ë§ì¸ì†”', name: 'ì£¼ë§ì¸ì†”', type: 'multiple', maxCount: 5 }
        ];

        let checkData = {};
        let evidenceData = {};
        let completionData = {}; // ì œì¶œì™„ë£Œ ì²´í¬
        let currentTeacher = null;

        function initializeData() {
            teachers.forEach(teacher => {
                checkData[teacher] = {};
                evidenceData[teacher] = {};
                completionData[teacher] = false; // ì œì¶œì™„ë£Œ ì´ˆê¸°ê°’
                columns.forEach(col => {
                    checkData[teacher][col.id] = false;
                    if (col.type === 'multiple') {
                        evidenceData[teacher][col.id] = [];
                    } else {
                        evidenceData[teacher][col.id] = '';
                    }
                });
            });
            loadFromLocalStorage();
        }

        function renderTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            teachers.forEach((teacher, idx) => {
                const row = document.createElement('tr');
                
                // êµì‚¬ëª…
                const nameCell = document.createElement('td');
                nameCell.className = 'name-col';
                nameCell.textContent = teacher;
                row.appendChild(nameCell);

                // ì²´í¬ë°•ìŠ¤ë“¤
                columns.forEach(col => {
                    const cell = document.createElement('td');
                    cell.className = 'checkbox-cell';
                    
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.checked = checkData[teacher][col.id];
                    checkbox.onchange = (e) => {
                        checkData[teacher][col.id] = e.target.checked;
                        saveToLocalStorage();
                        updateStats();
                    };
                    
                    cell.appendChild(checkbox);
                    row.appendChild(cell);
                });

                // ì¦ë¹™ìë£Œ ì…ë ¥ ë²„íŠ¼
                const evidenceCell = document.createElement('td');
                const detailBtn = document.createElement('button');
                detailBtn.className = 'detail-btn';
                detailBtn.textContent = 'ğŸ“ ì¦ë¹™ìë£Œ';
                detailBtn.onclick = () => openModal(teacher);
                evidenceCell.appendChild(detailBtn);
                row.appendChild(evidenceCell);
                
                // ì œì¶œì™„ë£Œ ì²´í¬ë°•ìŠ¤
                const completionCell = document.createElement('td');
                completionCell.className = 'checkbox-cell';
                const completionCheckbox = document.createElement('input');
                completionCheckbox.type = 'checkbox';
                completionCheckbox.checked = completionData[teacher];
                completionCheckbox.style.width = '20px';
                completionCheckbox.style.height = '20px';
                completionCheckbox.onchange = (e) => {
                    completionData[teacher] = e.target.checked;
                    saveToLocalStorage();
                    updateStats();
                };
                completionCell.appendChild(completionCheckbox);
                row.appendChild(completionCell);

                tbody.appendChild(row);
            });

            updateStats();
        }

        function openModal(teacher) {
            currentTeacher = teacher;
            const modal = document.getElementById('evidenceModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');

            modalTitle.textContent = `${teacher} ì„ ìƒë‹˜ ì¦ë¹™ìë£Œ ì…ë ¥`;
            modalBody.innerHTML = '';

            columns.forEach(col => {
                const section = document.createElement('div');
                section.className = 'evidence-section';
                
                const title = document.createElement('h3');
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.checked = checkData[teacher][col.id];
                checkbox.onchange = (e) => {
                    checkData[teacher][col.id] = e.target.checked;
                };
                
                const titleText = document.createElement('span');
                titleText.textContent = col.name;
                
                title.appendChild(checkbox);
                title.appendChild(titleText);
                section.appendChild(title);

                if (col.type === 'multiple') {
                    const multipleInputs = document.createElement('div');
                    multipleInputs.className = 'multiple-inputs';
                    
                    for (let i = 0; i < col.maxCount; i++) {
                        const inputWrapper = document.createElement('div');
                        inputWrapper.className = 'input-with-label';
                        
                        const label = document.createElement('span');
                        label.className = 'input-label';
                        label.textContent = `${i + 1}ë²ˆ`;
                        
                        const input = document.createElement('input');
                        input.type = 'text';
                        input.className = 'evidence-input';
                        input.placeholder = `ê³µë¬¸ë²ˆí˜¸ ë˜ëŠ” ì¦ë¹™ìë£Œ ${i + 1}`;
                        input.value = evidenceData[teacher][col.id][i] || '';
                        input.dataset.colId = col.id;
                        input.dataset.index = i;
                        
                        inputWrapper.appendChild(label);
                        inputWrapper.appendChild(input);
                        multipleInputs.appendChild(inputWrapper);
                    }
                    
                    section.appendChild(multipleInputs);
                } else {
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.className = 'evidence-input';
                    input.placeholder = 'ê³µë¬¸ë²ˆí˜¸ ë˜ëŠ” ì¦ë¹™ìë£Œ (ì˜ˆ: êµë¬´-1234)';
                    input.value = evidenceData[teacher][col.id];
                    input.dataset.colId = col.id;
                    
                    section.appendChild(input);
                }

                modalBody.appendChild(section);
            });

            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('evidenceModal').style.display = 'none';
            currentTeacher = null;
        }

        function saveEvidence() {
            if (!currentTeacher) return;

            const modalBody = document.getElementById('modalBody');
            const sections = modalBody.querySelectorAll('.evidence-section');

            sections.forEach((section, idx) => {
                const col = columns[idx];
                const checkbox = section.querySelector('input[type="checkbox"]');
                checkData[currentTeacher][col.id] = checkbox.checked;

                if (col.type === 'multiple') {
                    const inputs = section.querySelectorAll('.evidence-input');
                    evidenceData[currentTeacher][col.id] = [];
                    inputs.forEach(input => {
                        if (input.value.trim()) {
                            evidenceData[currentTeacher][col.id].push(input.value.trim());
                        }
                    });
                    // ì¦ë¹™ìë£Œê°€ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ ìë™ ì²´í¬
                    if (evidenceData[currentTeacher][col.id].length > 0) {
                        checkData[currentTeacher][col.id] = true;
                        checkbox.checked = true;
                    }
                } else {
                    const input = section.querySelector('.evidence-input');
                    evidenceData[currentTeacher][col.id] = input.value.trim();
                    // ì¦ë¹™ìë£Œê°€ ìˆìœ¼ë©´ ìë™ ì²´í¬
                    if (evidenceData[currentTeacher][col.id]) {
                        checkData[currentTeacher][col.id] = true;
                        checkbox.checked = true;
                    }
                }
            });

            saveToLocalStorage();
            renderTable();
            closeModal();
        }

        function updateStats() {
            document.getElementById('totalTeachers').textContent = teachers.length;

            // ì œì¶œì™„ë£Œí•œ êµì‚¬ ìˆ˜ ê³„ì‚°
            const completedTeachers = teachers.filter(teacher => completionData[teacher]).length;
            const overallRate = Math.round((completedTeachers / teachers.length) * 100);
            document.getElementById('overallRate').textContent = overallRate + '%';
        }

        function saveToLocalStorage() {
            localStorage.setItem('teacherCheckData', JSON.stringify(checkData));
            localStorage.setItem('teacherEvidenceData', JSON.stringify(evidenceData));
            localStorage.setItem('teacherCompletionData', JSON.stringify(completionData));
        }

        function loadFromLocalStorage() {
            const savedCheck = localStorage.getItem('teacherCheckData');
            const savedEvidence = localStorage.getItem('teacherEvidenceData');
            const savedCompletion = localStorage.getItem('teacherCompletionData');
            
            if (savedCheck) {
                const savedData = JSON.parse(savedCheck);
                teachers.forEach(teacher => {
                    if (savedData[teacher]) {
                        checkData[teacher] = savedData[teacher];
                    }
                });
            }
            
            if (savedEvidence) {
                const savedData = JSON.parse(savedEvidence);
                teachers.forEach(teacher => {
                    if (savedData[teacher]) {
                        evidenceData[teacher] = savedData[teacher];
                    }
                });
            }
            
            if (savedCompletion) {
                const savedData = JSON.parse(savedCompletion);
                teachers.forEach(teacher => {
                    if (savedData[teacher] !== undefined) {
                        completionData[teacher] = savedData[teacher];
                    }
                });
            }
        }

        function exportToCSV() {
            let csv = 'êµì‚¬ëª…,';
            columns.forEach(col => {
                if (col.type === 'multiple') {
                    csv += col.name + ' ì œì¶œì—¬ë¶€,';
                    for (let i = 1; i <= col.maxCount; i++) {
                        csv += col.name + ' ' + i + 'ë²ˆ,';
                    }
                } else {
                    csv += col.name + ' ì œì¶œì—¬ë¶€,' + col.name + ' ì¦ë¹™,';
                }
            });
            csv += 'ì œì¶œì™„ë£Œ\n';

            teachers.forEach(teacher => {
                const row = [teacher];
                
                columns.forEach(col => {
                    row.push(checkData[teacher][col.id] ? 'O' : 'X');
                    
                    if (col.type === 'multiple') {
                        for (let i = 0; i < col.maxCount; i++) {
                            row.push(evidenceData[teacher][col.id][i] || '');
                        }
                    } else {
                        row.push(evidenceData[teacher][col.id] || '');
                    }
                });
                
                row.push(completionData[teacher] ? 'O' : 'X');
                
                csv += row.map(field => `"${field}"`).join(',') + '\n';
            });

            const blob = new Blob(['\uFEFF' + csv], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', 'êµì‚¬ë‹¤ë©´í‰ê°€_ì¦ë¹™ìë£Œ_ì²´í¬ë¦¬ìŠ¤íŠ¸.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function clearAll() {
            if (confirm('ëª¨ë“  ì²´í¬ì™€ ì¦ë¹™ìë£Œë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                teachers.forEach(teacher => {
                    completionData[teacher] = false;
                    columns.forEach(col => {
                        checkData[teacher][col.id] = false;
                        if (col.type === 'multiple') {
                            evidenceData[teacher][col.id] = [];
                        } else {
                            evidenceData[teacher][col.id] = '';
                        }
                    });
                });
                saveToLocalStorage();
                renderTable();
            }
        }

        function showIncomplete() {
            const rows = document.querySelectorAll('#tableBody tr');
            let hasIncomplete = false;
            
            rows.forEach((row, idx) => {
                const teacher = teachers[idx];
                
                if (!completionData[teacher]) {
                    row.style.display = '';
                    row.style.background = '#fff3cd';
                    hasIncomplete = true;
                } else {
                    row.style.display = 'none';
                }
            });

            if (!hasIncomplete) {
                alert('ëª¨ë“  êµì‚¬ê°€ ì œì¶œ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤! ğŸ‰');
                rows.forEach(row => {
                    row.style.display = '';
                    row.style.background = '';
                });
                return;
            }

            setTimeout(() => {
                if (confirm('ì „ì²´ ëª©ë¡ì„ ë‹¤ì‹œ ë³´ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    rows.forEach(row => {
                        row.style.display = '';
                        row.style.background = '';
                    });
                }
            }, 100);
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('evidenceModal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // ì´ˆê¸°í™”
        initializeData();
        renderTable();
    </script>
</body>
</html>
